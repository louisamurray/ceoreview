<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CEO Review – Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      body { font-family: 'Inter', sans-serif; }
    </style>
  </head>
  <body class="bg-slate-100 text-slate-800">
    <div class="min-h-screen">
      <header class="border-b border-slate-200 bg-white/90 backdrop-blur">
        <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8">
          <div>
            <h1 class="text-2xl font-bold text-slate-900">Admin Dashboard</h1>
            <p class="text-sm text-slate-500">Review submissions across the organisation.</p>
          </div>
          <div class="flex items-center gap-3">
            <span id="admin-user" class="hidden rounded-full bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700"></span>
            <button
              id="admin-logout"
              type="button"
              class="rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-400 hover:text-slate-700"
            >
              Sign out
            </button>
          </div>
        </div>
      </header>

      <main class="mx-auto max-w-6xl px-4 py-8 sm:px-6 lg:px-8">
        <section class="mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
          <div>
            <h2 class="text-lg font-semibold text-slate-900">Submissions</h2>
            <p class="text-sm text-slate-500">
              Latest entries from the CEO review form. Use the controls to inspect details or download CSV snapshots.
            </p>
          </div>
          <div class="flex items-center gap-3">
            <label class="text-sm text-slate-600">
              Collection
              <select id="collection-selector" class="ml-2 rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm">
                <option value="submissions" selected>Submissions</option>
                <option value="drafts">Drafts</option>
              </select>
            </label>
            <button
              id="refresh-btn"
              type="button"
              class="rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-400 hover:text-slate-700"
            >
              Refresh
            </button>
          </div>
        </section>

        <section
          id="admin-status"
          class="mb-6 rounded-lg border border-slate-200 bg-white p-4 text-sm text-slate-600"
        >
          Loading dashboard…
        </section>

        <section id="submission-list" class="space-y-4"></section>
      </main>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage-compat.js"></script>
    <script>
      // Update this list with the email addresses that should have admin access.
      window.ADMIN_EMAIL_WHITELIST = window.ADMIN_EMAIL_WHITELIST || ['louisa@whiringa.com'];
    </script>
    <script src="assets/js/firebase.js" defer></script>
    <script src="assets/js/admin.js" defer></script>
  </body>
</html>
